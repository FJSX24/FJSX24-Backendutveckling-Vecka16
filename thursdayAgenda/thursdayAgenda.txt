ğŸš€ Lektion: API-designprinciper och RESTful Best Practices

ğŸ’¡ LektionsmÃ¥l:
Efter lektionen ska studenterna:

FÃ¶rstÃ¥ grundlÃ¤ggande designprinciper fÃ¶r RESTful API:er.

Implementera ett API som fÃ¶ljer REST-principer.

FÃ¥ insikt i hur man designar API:er som Ã¤r robusta och skalbara.

Dokumentera API:et med hjÃ¤lp av Swagger.

------------------------------------------------------------
ğŸ“ Lektionsplanering (3 timmar)

Tid	Moment
00:00â€“00:10	Introduktion och agenda
00:10â€“00:40	âœ… PowerPoint & teori
00:40â€“01:40	âœ… Code-Along - Bygga ett RESTful API
01:40â€“02:20	âœ… Code-Along - Implementera Swagger
02:20â€“03:00	âœ… SjÃ¤lvstÃ¤ndiga Ã¶vningar och reflektion

------------------------------------------------------------
------------------------------------------------------------
------------------------------------------------------------
ğŸ“Š PowerPoint Slides (20 slides)

ğŸ—£ï¸ Talarmanus fÃ¶r PowerPoint-presentationen

Slide 1: API-arkitektur
ğŸ—£ï¸ Talarmanus: "Hej allihopa! Idag ska vi prata om API-designprinciper och RESTful best practices. Vi bÃ¶rjar med att titta pÃ¥ olika typer av API-arkitekturer. Det finns flera olika, men de mest populÃ¤ra Ã¤r:

SOAP: En Ã¤ldre teknik med XML-baserad kommunikation.

GraphQL: Ger klienten mÃ¶jlighet att specificera exakt vilken data som behÃ¶vs.

JSON-RPC och XML-RPC: Fokuserar pÃ¥ att kÃ¶ra procedurer via HTTP.

REST: En av de mest anvÃ¤nda arkitekturerna, dÃ¤r data Ã¤r plattformsoberoende och anvÃ¤nder HTTP-metoder.

Det finns fÃ¶r- och nackdelar med alla dessa, men idag fokuserar vi pÃ¥ REST eftersom det Ã¤r den vanligaste arkitekturen i moderna webbtjÃ¤nster."
-------------------------------------
Slide 2: REST API
ğŸ—£ï¸ Talarmanus: "REST Ã¤r en arkitekturstil som bygger pÃ¥ stateless-kommunikation via HTTP. Det betyder att varje fÃ¶rfrÃ¥gan Ã¤r fristÃ¥ende och innehÃ¥ller all information som behÃ¶vs. REST Ã¤r populÃ¤rt eftersom det Ã¤r enkelt, plattformsoberoende och vÃ¤l anpassat fÃ¶r moderna webbapplikationer."

-------------------------------------
Slide 3: REST API - FÃ¶rdelar
ğŸ—£ï¸ Talarmanus: "En stor fÃ¶rdel med REST Ã¤r att det erbjuder en tydlig separation mellan frontend och backend. Backend kan koncentrera sig pÃ¥ att leverera data medan frontend hanterar presentationen. Dessutom Ã¤r REST plattformsoberoende, vilket innebÃ¤r att samma API kan anvÃ¤ndas av bÃ¥de mobilappar och webbappar."

-------------------------------------
Slide 4: Stateless
ğŸ—£ï¸ Talarmanus:
"I REST Ã¤r varje fÃ¶rfrÃ¥gan stateless, vilket betyder att servern inte hÃ¥ller nÃ¥got minne av tidigare anrop.
Det innebÃ¤r att varje fÃ¶rfrÃ¥gan innehÃ¥ller all information som behÃ¶vs fÃ¶r att servern ska kunna behandla den.
Detta gÃ¶r systemet mycket skalbart, eftersom varje fÃ¶rfrÃ¥gan Ã¤r oberoende av tidigare interaktioner.
Nackdelen Ã¤r att vi ibland behÃ¶ver skicka med lite mer data i varje anrop fÃ¶r att hÃ¥lla reda pÃ¥ sammanhanget."

-------------------------------------
Slide 5: Uniform Design
ğŸ—£ï¸ Talarmanus:
"REST har en enhetlig design, vilket innebÃ¤r att alla resurser hanteras pÃ¥ samma sÃ¤tt.
En GET- eller POST-anrop ser alltid likadant ut, oavsett vilken resurs det handlar om.
Det gÃ¶r att utvecklare enkelt kan fÃ¶rstÃ¥ hur nya resurser fungerar baserat pÃ¥ tidigare erfarenheter."

-------------------------------------
Slide 6: Resursdesign
ğŸ—£ï¸ Talarmanus:
"En resurs i REST ska aldrig vara mer komplicerad Ã¤n nÃ¶dvÃ¤ndigt.
Vi anvÃ¤nder en tydlig struktur som till exempel:

/collections/documents/users

En resurs Ã¤r nÃ¥got som kan identifieras och manipuleras via en URL.
Vi efterstrÃ¤var enkelhet och tydlighet fÃ¶r att gÃ¶ra API:et lÃ¤ttanvÃ¤nt."

-------------------------------------
Slide 7: SjÃ¤lvfÃ¶rklarande Resurser
ğŸ—£ï¸ Talarmanus:
"Varje resurs ska vara sjÃ¤lvfÃ¶rklarande och ha en tydlig benÃ¤mning.
Exempel:

/users Ã¤r sjÃ¤lvklart att det handlar om anvÃ¤ndare.

Undvik namn som /people_in_general eftersom det Ã¤r otydligt.

En tydlig URL-struktur gÃ¶r API:et lÃ¤ttare att anvÃ¤nda och fÃ¶rstÃ¥."

-------------------------------------
Slide 8: Tydliga och FÃ¶rklarande Responser
ğŸ—£ï¸ Talarmanus:
"En REST-respons ska vara tydlig och fÃ¶rklarande.

IstÃ¤llet fÃ¶r att bara svara med 'ERROR!', bÃ¶r vi ge mer information.

Ett exempel pÃ¥ en bra respons Ã¤r:
Oops, it seems your credentials were wrong.

Genom att ge anvÃ¤ndaren tydliga felmeddelanden gÃ¶r vi API:et mer anvÃ¤ndarvÃ¤nligt."

-------------------------------------
Slide 9: Pluralform pÃ¥ Resurser
ğŸ—£ï¸ Talarmanus:
"Alla resursnamn i REST ska vara i pluralform.
Exempel:

/customers fÃ¶r kunder

/tickets fÃ¶r biljetter

/users fÃ¶r anvÃ¤ndare

Detta Ã¤r en best practice eftersom vi ofta arbetar med flera resurser samtidigt."

-------------------------------------
Slide 10: Metoder
ğŸ—£ï¸ Talarmanus: "REST anvÃ¤nder sig av standardiserade HTTP-metoder fÃ¶r att hantera resurser. HÃ¤r Ã¤r de vanligaste:

GET: HÃ¤mta data.

POST: Skapa en ny resurs.

PUT: Uppdatera en resurs.

PATCH: Delvis uppdatera en resurs.

DELETE: Ta bort en resurs."

-------------------------------------
Slide 11: Exempel pÃ¥ REST Metoder
ğŸ—£ï¸ Talarmanus:
"REST-arkitekturen anvÃ¤nder standardiserade HTTP-metoder fÃ¶r att hantera resurser:

GET /customers/ hÃ¤mtar alla kunder.

GET /customers/1 hÃ¤mtar en specifik kund.

POST /customers skapar en ny kund.

Genom att fÃ¶lja denna standard blir vÃ¥rt API mer intuitivt och lÃ¤ttanvÃ¤nt."

-------------------------------------
Slide 12: Modulstrukturering
ğŸ—£ï¸ Talarmanus:
"FÃ¶r att hÃ¥lla API:et strukturerat och skalbart delar vi upp olika resurser i separata moduler:

customers.js hanterar kundresurser.

orders.js hanterar bestÃ¤llningsresurser.

Detta gÃ¶r koden mer Ã¶verskÃ¥dlig och underlÃ¤ttar underhÃ¥ll."

-------------------------------------
Slide 13: API KartlÃ¤ggning
ğŸ—£ï¸ Talarmanus:
"Innan vi bygger vÃ¥rt API Ã¤r det viktigt att gÃ¶ra en kartlÃ¤ggning:

Vilka aktÃ¶rer kommer att anvÃ¤nda API:et?

Vilka metoder behÃ¶ver de?

Hur ska datan se ut?

Genom att planera pÃ¥ detta sÃ¤tt sÃ¤kerstÃ¤ller vi att vÃ¥rt API mÃ¶ter de krav som stÃ¤lls."

-------------------------------------
Slide 14: Parter fÃ¶r en Restaurang-App
ğŸ—£ï¸ Talarmanus:
"Vi kan identifiera flera parter som kommer att anvÃ¤nda API:et:

Kunden: BestÃ¤ller mat och ser status.

DrÃ¶naren: Levererar maten och uppdaterar orderstatus.

Pizzerian: Hanterar bestÃ¤llningar och uppdateringar."

-------------------------------------
Slide 15: Funktionalitet per Part
ğŸ—£ï¸ Talarmanus:
"FÃ¶r varje part i systemet specificerar vi vad de ska kunna gÃ¶ra:

Kunden: Se meny, skapa order, betala, se status.

DrÃ¶naren: Uppdatera orderstatus.

Pizzerian: Se och uppdatera bestÃ¤llningar."

-------------------------------------
Slide 16: Entiteter
ğŸ—£ï¸ Talarmanus:
"Entiteter Ã¤r objekt som representerar data i vÃ¥rt system.

FÃ¶r kunder: Logga in, se meny, skapa order, se status.

FÃ¶r drÃ¶nare: Uppdatera orderstatus.

FÃ¶r pizzerian: Hantera bestÃ¤llningar."

-------------------------------------
Slide 17: Resurser
ğŸ—£ï¸ Talarmanus:
"En resurs gÃ¶r entiteter tillgÃ¤ngliga via en URL.

/users hanterar inloggning och anvÃ¤ndarinformation.

/menus tillhandahÃ¥ller menyn.

/orders hanterar bestÃ¤llningar."

-------------------------------------
Slide 18: Metoder per Resurs
ğŸ—£ï¸ Talarmanus:
"Vi behÃ¶ver definiera vilka metoder som Ã¤r relevanta fÃ¶r varje resurs:

POST /users fÃ¶r att logga in.

GET /menus fÃ¶r att hÃ¤mta menyn.

POST /orders fÃ¶r att skapa en order."

-------------------------------------
Slide 19: Dokumentation
ğŸ—£ï¸ Talarmanus: "Att dokumentera sina API:er Ã¤r ett mÃ¥ste fÃ¶r att sÃ¤kerstÃ¤lla att utvecklare och anvÃ¤ndare fÃ¶rstÃ¥r hur API:et ska anvÃ¤ndas. Ett populÃ¤rt verktyg fÃ¶r detta Ã¤r Swagger, som genererar interaktiv dokumentation direkt frÃ¥n din kod."

-------------------------------------
Slide 20: Middleware - CORS
ğŸ—£ï¸ Talarmanus:
"FÃ¶r att vÃ¥rt API ska vara tillgÃ¤ngligt frÃ¥n olika domÃ¤ner anvÃ¤nder vi CORS.
Det innebÃ¤r att vi explicit tillÃ¥ter vissa domÃ¤ner att gÃ¶ra fÃ¶rfrÃ¥gningar till vÃ¥rt API.
FÃ¶r att hantera detta anvÃ¤nder vi biblioteket cors med Express:

import cors from 'cors';
app.use(cors());
CORS Ã¤r avgÃ¶rande nÃ¤r vi bygger webbapplikationer som kommunicerar med en backend.

-------------------------------------------------
-------------------------------------------------
-------------------------------------------------
ğŸ’» Code-Along: Strukturera API enligt REST-principer

ğŸ—£ï¸ Talarmanus - Code-Along Start:
"Hej alla! Nu ska vi bygga ett RESTful API som fÃ¶ljer bÃ¤sta praxis. Vi kommer att anvÃ¤nda Express och skapa en struktur som Ã¤r lÃ¤tt att skala och underhÃ¥lla."

-------------------------------------------------
ğŸ—ï¸ Projektstruktur:

â”œâ”€â”€ index.js            # Huvudfil fÃ¶r servern
â”œâ”€â”€ package.json        # Projektkonfiguration
â”œâ”€â”€ routes/             # Mapp fÃ¶r alla router-filer
â”‚   â””â”€â”€ users.js         # Router-fil fÃ¶r anvÃ¤ndare

-------------------------------------------------
ğŸ”§ 1. Installera nÃ¶dvÃ¤ndiga paket

npm init -y
npm install express swagger-jsdoc swagger-ui-express

-------------------------------------------------
-------------------------------------------------
-------------------------------------------------
ğŸ“ Skapa huvudfilen: index.js

GenomfÃ¶r den koden.
-------------------------------------------------

ğŸ“ Skapa anvÃ¤ndarrouter: routes/users.js

GenomfÃ¶r den koden.
-------------------------------------------------

ğŸ“ Testa i webblÃ¤saren

node index.js

BesÃ¶k Swagger-dokumentationen:

http://localhost:3000/api-docs


-------------------------------------------------
-------------------------------------------------
-------------------------------------------------
ğŸ“ Sammanfattning (10 min)
"Vi har idag byggt ett RESTful API enligt best practices och dokumenterat det med Swagger. Genom att strukturera vÃ¥rt API pÃ¥ detta sÃ¤tt blir det lÃ¤ttare att bÃ¥de underhÃ¥lla och anvÃ¤nda. Kom ihÃ¥g att alltid tÃ¤nka pÃ¥ tydlighet och dokumentation nÃ¤r ni bygger era egna API:er!"
-------------------------------------------------
-------------------------------------------------
-------------------------------------------------
Dags fÃ¶r att ni kodar Ã¶vningar:

-------------------------------------------------
-------------------------------------------------
-------------------------------------------------
DiskussionsfrÃ¥gor:

ğŸ” Tema 1 â€“ Routing och Struktur
DiskussionsfrÃ¥gor som fokuserar pÃ¥ hur vi strukturerar vÃ¥r kod med routers:

VarfÃ¶r tror ni att det Ã¤r viktigt att dela upp olika delar av API:et i separata router-filer?

Om en ny utvecklare Ã¶ppnade ditt projekt â€“ skulle hen fÃ¶rstÃ¥ vad som hÃ¤nder bara genom att titta pÃ¥ routers och URL:er?

Hur kan vi avgÃ¶ra om en route hÃ¶r hemma i en egen router-fil eller inte?

Vilka risker finns om vi bara har all routing i index.js utan moduler?

Hur kan man gÃ¶ra routers Ã¥teranvÃ¤ndbara eller mer generiska?

-------------------------------------------------
ğŸ”§ Tema 2 â€“ RESTful Best Practices
DiskussionsfrÃ¥gor kring REST och API-design:

Vad betyder det att ett API Ã¤r â€œRESTfulâ€ â€“ och hur vet man att det verkligen Ã¤r det?

Vilka konkreta fÃ¶rdelar finns med att fÃ¶lja REST-principer?

VarfÃ¶r Ã¤r pluralform viktig i URL:er? Skulle det spela nÃ¥gon roll om man t.ex. skrev /user istÃ¤llet fÃ¶r /users?

Var gÃ¥r grÃ¤nsen mellan att ett API Ã¤r â€œtydligtâ€ och â€œfÃ¶r detaljeratâ€? Finns det en risk med att vara fÃ¶r exakt?

Hur kan vi sÃ¤kerstÃ¤lla att vÃ¥ra endpoints Ã¤r â€œsjÃ¤lvfÃ¶rklarandeâ€? Vad innebÃ¤r det i praktiken?

-------------------------------------------------
ğŸ§  Tema 3 â€“ Skalbarhet, Dokumentation & Teamarbete
DiskussionsfrÃ¥gor med mer reflektion och koppling till verkliga projekt:

Hur hjÃ¤lper routers oss att bygga en applikation som kan vÃ¤xa Ã¶ver tid?

Hur skulle ni fÃ¶rklara nyttan med Swagger till en icke-teknisk kollega?

Hur pÃ¥verkar god API-dokumentation (som Swagger) teamets samarbete?

TÃ¤nk pÃ¥ ett stÃ¶rre projekt â€“ hur mÃ¥nga routers tror ni Ã¤r â€œlagomâ€? NÃ¤r blir det fÃ¶r mÃ¥nga?

Vilka utmaningar kan uppstÃ¥ om flera personer arbetar samtidigt pÃ¥ olika delar av API:et? Hur kan man hantera det?

-------------------------------------------------
ğŸ§© Tema 4 â€“ Arkitektur: MVC och Headless vs Coupled / Monolithic / Traditional
Fokus: Ã¶vergripande systemstruktur och backendens roll

ğŸ’¡ Tips innan diskussion:

Se video om MVC: https://www.youtube.com/watch?v=Cgvopu9zg8Y

LÃ¤s kort artikel eller Googla skillnaderna mellan Headless CMS, Monolithic, Coupled/Traditional arkitektur.

DiskussionsfrÃ¥gor:
Hur passar routers in i ett MVC-upplÃ¤gg? Vilken roll har de?

Vad innebÃ¤r â€œseparation of concernsâ€, och hur ser vi det i vÃ¥rt projekt?

Hur skiljer sig ett Headless API frÃ¥n ett monolitiskt system?

Vilka fÃ¶rdelar/nackdelar finns med att anvÃ¤nda Headless-struktur jÃ¤mfÃ¶rt med Coupled/Traditional?



