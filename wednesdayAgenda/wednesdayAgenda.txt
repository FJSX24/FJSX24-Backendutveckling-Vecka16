ğŸ§­ Workshop â€“ Onsdag v.16
Datum: 2025-04-16
Tid: 09.00â€“12.00
Plats: Ordinarie schema
Ã„mne: Express Router, API-design, RESTful best practices

-----------------------------
âœ¨ Syfte

Att fÃ¶rstÃ¥ hur man strukturerar Express-routers fÃ¶r skalbara API:er, fÃ¶ljer RESTful designprinciper, samt arbetar med god kodstruktur i backendprojekt. Fokus pÃ¥ praktisk tillÃ¤mpning av routers och separation av ansvar i filstruktur.

Efter lektionen ska studenterna:

Implementera router-filer fÃ¶r att hantera olika entiteter.

AnvÃ¤nda Postman fÃ¶r att testa API:et.

SjÃ¤lvstÃ¤ndigt skapa en router-fil fÃ¶r en ny entitet (t.ex. produkter).

-----------------------------
ğŸ§  Agenda

ğŸ“ Introduktion â€“ Agenda och mÃ¥l fÃ¶r dagen

ğŸ“š PowerPoint/Teori: GÃ¥ igenom vad routing innebÃ¤r i Express.

ğŸ’» Code-Along: Skapa ett API och refaktorisera med routers.
AnvÃ¤nd Postman fÃ¶r att testa API:et.

ğŸ§© SjÃ¤lvstÃ¤ndiga Ã¶vningar

ğŸ§ª Reflektion & Gruppdiskussion: "Hur RESTful Ã¤r vÃ¥rt API?"

âœ… Code Review / Snabb demo â€“ Studenter visar upp sina routers

-----------------------------
ğŸ“Š PowerPoint Slides

Slide 1: Titel: Routing i Express

Routing innebÃ¤r att vi kan tala om vad som ska hÃ¤nda vid olika URL:er.

AnvÃ¤nds fÃ¶r att hantera HTTP-fÃ¶rfrÃ¥gningar (GET, POST, PUT, DELETE).

ğŸ—£ï¸ Talarmanus - Slide 1
"Hej allihopa! Idag ska vi prata om Routing i Express. Routing innebÃ¤r att vi kan tala om vad som ska hÃ¤nda vid olika URL:er. Vi anvÃ¤nder routing fÃ¶r att hantera olika typer av HTTP-fÃ¶rfrÃ¥gningar som GET, POST, PUT och DELETE. Att fÃ¶rstÃ¥ routing Ã¤r grundlÃ¤ggande fÃ¶r att bygga backend-API:er."

-----------------------------
Slide 2: Routing i Express
method - den HTTP-metod som anvÃ¤nds, t.ex. GET, POST.

path - den URL som efterfrÃ¥gas.

callback - den funktion som kÃ¶rs nÃ¤r en request matchar.

KOD:
const express = require('express');
const app = express();

app.method(path, callback);

ğŸ—£ï¸ Talarmanus - Slide 2
"En route i Express bestÃ¥r av tre delar: method, path och callback.

Method anger vilken HTTP-metod som anvÃ¤nds, som GET eller POST.

Path anger URL:en som vi vill lyssna pÃ¥.

Callback Ã¤r den funktion som anropas nÃ¤r en request matchar.

Denna struktur gÃ¶r det enkelt att hantera olika typer av fÃ¶rfrÃ¥gningar i vÃ¥r applikation."

-----------------------------
Slide 3: Vad Ã¤r en Router i Express?

En Router Ã¤r en separat hanterare fÃ¶r olika API-routes.

GÃ¶r det mÃ¶jligt att dela upp koden i mindre moduler.

FÃ¶rdelar:

Separation av ansvar.

LÃ¤ttare att underhÃ¥lla.

Kan ha egna middleware.


ğŸ—£ï¸ Talarmanus - Slide 3
"Routers i Express Ã¤r ett sÃ¤tt att hantera olika delar av din applikation i separata filer. IstÃ¤llet fÃ¶r att ha all routing i huvudfilen, kan vi dela upp koden i mindre moduler. Detta gÃ¶r det lÃ¤ttare att underhÃ¥lla och ger en tydligare separation av ansvar."

-----------------------------
-----------------------------
-----------------------------
ğŸ’» Code-Along 

Projektsetup och Strukturering med Express Router:

ğŸ“ Projektstruktur efter utvidgning:
express-router-api/
â”œâ”€â”€ index.js          # Huvudfil fÃ¶r servern
â”œâ”€â”€ package.json      # Paketkonfiguration
â”œâ”€â”€ routes/           # Mapp fÃ¶r alla router-filer
â”‚   â”œâ”€â”€ users.js       # Router-fil fÃ¶r anvÃ¤ndare
â”‚   â””â”€â”€ products.js    # Router-fil fÃ¶r produkter
â””â”€â”€ node_modules/     # Installerade paket

-----------------------------
ğŸ”§ 1. Skapa projekt och installera Express
npm init -y
npm install express

-----------------------------
ğŸ”§ 1. Skapa och flytta users till ny router-fil frÃ¥n index till routes/users.js

genomfÃ¶r den koden

-----------------------------
ğŸ“ 2. Uppdatera huvudfilen fÃ¶r att anvÃ¤nda users
index.js

genomfÃ¶r den koden

-----------------------------
ğŸ”§ 3. Skapa en ny router-fil fÃ¶r produkter
routes/products.js

genomfÃ¶r den koden

-----------------------------
ğŸ“ 4. Uppdatera huvudfilen fÃ¶r att kombinera flera routers
index.js

genomfÃ¶r den koden

-----------------------------
-----------------------------
-----------------------------
âœ… Testning av Flera Routers

ğŸ”§ Starta servern
node index.js

ğŸŒ Testa endpoints med Postman:

ğŸ§‘ AnvÃ¤ndare

GET alla anvÃ¤ndare:
http://localhost:8000/api/users

POST ny anvÃ¤ndare:
http://localhost:8000/api/users

Body:
{
  "id": 3,
  "name": "Oskar"
}

DELETE anvÃ¤ndare:
http://localhost:8000/api/users/1

ğŸ›’ Produkter

GET alla produkter:
http://localhost:8000/api/products

POST ny produkt:
http://localhost:8000/api/products

Body:
{
  "id": 3,
  "name": "Headphones"
}

DELETE produkt:
http://localhost:8000/api/products/1

ğŸ—£ï¸ Talarmanus - Kombinera Flera Routers
"Nu har vi skapat en till router fÃ¶r att hantera produkter. Detta gÃ¶r vÃ¥rt API mer strukturerat eftersom vi nu har en dedikerad router fÃ¶r anvÃ¤ndare och en annan fÃ¶r produkter.

I huvudfilen (index.js) kopplar vi ihop dessa routers med olika basvÃ¤gar:

/api/users fÃ¶r anvÃ¤ndarhantering

/api/products fÃ¶r produkthantering

Genom att anvÃ¤nda flera routers fÃ¥r vi en mycket mer skalbar och Ã¶verskÃ¥dlig applikation. Det gÃ¶r det ocksÃ¥ enkelt att lÃ¤gga till fler routers i framtiden om vi vill hantera fler resurser."

-----------------------------
-----------------------------
-----------------------------
Se video om MVC

Diskussion och teori letande om headless vs Coupled / Monolithic / Traditional
Vad Ã¤r dom? FÃ¶rdelar/nackdelar?

-----------------------------
-----------------------------
-----------------------------
Dags fÃ¶r Ã¶vningar

-----------------------------
-----------------------------
-----------------------------
ğŸ§ª Reflektion & Diskussion (15 min)

Hur hjÃ¤lper routers oss strukturera applikationen?

Hur kan vi tÃ¤nka RESTfullt nÃ¤r vi bygger endpoints?

Hur kan vi anvÃ¤nda denna struktur i Chas Challenge?

-----------------------------
-----------------------------
-----------------------------
ğŸ“ Sammanfattning
"Hej allihopa! Nu har vi sett hur man hanterar flera routers i samma applikation, och hur man kopplar dem till olika basvÃ¤gar i huvudfilen. Genom att anvÃ¤nda flera routers gÃ¶r vi vÃ¥r applikation mycket mer strukturerad och lÃ¤tt att underhÃ¥lla.

Att arbeta med flera routers Ã¤r en viktig del av att bygga stÃ¶rre och mer skalbara system, sÃ¤rskilt nÃ¤r API:et vÃ¤xer med flera resurser. Bra jobbat idag! ğŸ’ª"